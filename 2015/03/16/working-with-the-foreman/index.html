<!doctype html> <html lang="en"> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="Content-Language" content="en"> <title>Working with the Foreman | TheWorkAround</title> <meta property="og:title" content="Working with the Foreman"/> <meta name="author" content="Brandon"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="Using Ruby’s forman gem to make managing applications easier"/> <meta property="og:description" content="Using Ruby’s forman gem to make managing applications easier"/> <link rel="canonical" href="https://theworkaround.com/2015/03/16/working-with-the-foreman/"/> <meta property="og:url" content="https://theworkaround.com/2015/03/16/working-with-the-foreman/"/> <meta property="og:site_name" content="TheWorkAround"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2015-03-16T00:00:00+00:00"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="Working with the Foreman"/> <link type="application/atom+xml" rel="alternate" href="https://theworkaround.com/feed.xml" title="TheWorkAround"/> <meta name="author" content="Brandon Hicks"> <meta name="description" content="The infinite ramblings and ideas of Brandon Hicks"/> <meta name="generator" content="Bridgetown"> <meta name="referrer" content="no-referrer-when-downgrade"> <meta name="robots" content="index, follow"> <link rel="preload" href="/_bridgetown/static/index.UPVOJSIG.css" as="style"> <link rel="preload" href="/_bridgetown/static/index.KL3TZR4T.js" as="script"> <link rel="preconnect" href="/" crossorigin> <link rel="preconnect" href="https://rsms.me/inter/inter.css" crossorigin> <link rel="dns-prefetch" href="https://www.googletagmanager.com/"> <link rel="dns-prefetch" href="https://www.google-analytics.com/"> <link rel="dns-prefetch" href="https://ajax.googleapis.com/"> <link rel="stylesheet" href="https://rsms.me/inter/inter.css"> <link rel="stylesheet" href="/_bridgetown/static/index.UPVOJSIG.css" data-turbo-track="reload"/> <script src="/_bridgetown/static/index.KL3TZR4T.js" data-turbo-track="reload" defer></script> <link href="https://theworkaround.com/sitemap.xml" rel="sitemap" title="Sitemap" type="application/xml"> <link href="https://theworkaround.com/humans.txt" rel="author" type="text/plain"> <link rel="manifest" href="https://theworkaround.com/site.webmanifest"> <link rel="me" href="https://theworkaround.com/" type="text/html"> <link rel="me" href="https://github.com/tarellel"> <link rel="me" href="https://twitter.com/tarellel"> <meta name="theme-color" content="#4cb8c4"> </head> <body class="post antialiased min-h-full font-inter font-normal leading-normal bg-white text-gray-400"> <nav class="border-t-12 border-cyan-600 py-3 flex flex-col sm:flex-row sm:justify-between sm:items-center p-4" role="navigation" aria-label="Main"> <div class="text-left"> <h3 class="text-3xl font-extrabold text-gray-600"> <a href="/" class="text-gray-600" title="Goto /" key="home">TheWorkAround</a> </h3> <p class="text-md font-semibold leading-5 text-gray-400">Brandon Hicks</p> </div> <div class="sm:text-right text-lg lg:text-xl flex space-y-4 sm:space-y-0 sm:space-x-9 content-center mt-3 sm:mt-0 flex-col sm:flex-row"> <a href="https://theworkaround.com/about" class="font-semibold text-gray-700 tracking-tight" title="About Me" key="about">About</a> <a href="https://theworkaround.com/posts" class="font-semibold text-gray-700 tracking-tight" title="View a list of all posts" key="posts">Posts</a> <a href="https://theworkaround.com/projects"" class="font-semibold text-gray-700 tracking-tight" title="Projects I'm working on" key="projects">Projects</a> <a href="https://theworkaround.com/feed.xml" class="flex content-center text-orange-600" title="RSS Feed" key="feed"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" className="h-5 w-5 self-center text-orange-600" class=" h-5 w-5 self-center text-orange-600" alt="RSS Feed Icon" aria-hidden="true" focusable="false" role="img"> <path d="M4 11a9 9 0 0 1 9 9"></path> <path d="M4 4a16 16 0 0 1 16 16"></path> <circle cx="5" cy="19" r="1"></circle> </svg> </a> </div> </nav> <main class="post px-10 sm:px-7 border-0"> <h1>Working with the Foreman</h1> <p>Lets to work on using <a href="https://github.com/ddollar/foreman">Foreman</a> and when I say Foreman I’m not referring to Eric Forman the goof for a son on <a href="http://www.imdb.com/title/tt0165598/?ref_=nv_sr_1">The 70’s Show</a>. I’m talking about the Ruby gem Foreman for making your applications easier to manage and deploy.</p> <p><img src="https://i.imgur.com/vlQFjab.jpg" alt="Eric Forman" class="img-fluid w-100"/></p> <p>For those unfamiliar with Foreman it is a way to initialize your application and its components without making a mess. Before I started using this wonderful gem, whenever I would want to test and/or run an application I would have numerous tabs open and start numerous tasks in order to even get started (Rails Server, Sidekiq, etc.). But with foreman this can all be done with a single command.</p> <p><img src="/img/before_foreman_tabs.png" alt="Before Foreman" class="img-fluid w-100"/></p> <p>With Foreman all you need to do is install the gem, create a <code class="highlighter-rouge">Procfile</code> and put your desired tasks in it. A Profile will contain the designated tasks which you wish to have initiated when you begin the application. An example of starting the rails server with foreman could look something similar to the following</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ss">web: </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">rails</span> <span class="n">server</span>
</code></pre></div></div> <p>Or if you wish to call you server application specifically you can use something similar to the example below.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ss">web: </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">thin</span> <span class="n">start</span>
</code></pre></div></div> <p>I know what you’re thinking, “But wait this doesn’t change anything, this is just another file to put into my Rails applications directory.” But let me explain a little bit, every new line that you add to the Profile can have a task followed by it’s specific command that you would normally use in the command line. For example say you run Resque, Solr, Guard, or a number of other tasks when you run your server, add these tasks and they will start with the server when you run the foreman command.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ss">web:    </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">thin</span> <span class="n">start</span>
<span class="ss">solr:   </span><span class="n">rake</span> <span class="n">sunspot</span><span class="ss">:solr:run</span>
<span class="ss">worker: </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">rake</span> <span class="n">resque</span><span class="ss">:work</span> <span class="no">QUEUE</span><span class="o">=*</span>
<span class="ss">guard:  </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">guard</span>
</code></pre></div></div> <p>So now instead of having 4 or 5 different tabs open for your terminal all you need to type in the command line is <code class="highlighter-rouge">foreman start</code> and you are ready to go. Below is an example of something similar that you will be output when setup and ran properly.</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master!<span class="nv">$ </span>foreman start
18:14:06 web.1     | started with pid 1247
18:14:06 sidekiq.1 | started with pid 1248
18:14:12 web.1     | <span class="o">=&gt;</span> Booting Thin
18:14:12 web.1     | <span class="o">=&gt;</span> Rails 4.2.0 application starting <span class="k">in </span>development on http://localhost:3000
18:14:12 web.1     | <span class="o">=&gt;</span> Run <span class="sb">`</span>rails server <span class="nt">-h</span><span class="sb">`</span> <span class="k">for </span>more startup options
18:14:12 web.1     | <span class="o">=&gt;</span> Ctrl-C to shutdown server
18:14:12 web.1     | Thin web server <span class="o">(</span>v1.6.3 codename Protein Powder<span class="o">)</span>
18:14:12 web.1     | Maximum connections <span class="nb">set </span>to 1024
18:14:12 web.1     | Listening on localhost:3000, CTRL+C to stop
</code></pre></div></div> <h3 id="conclusion">Conclusion</h3> <p>Using Foreman has been a wonderful resource for developing applications and initiating everything I need in order to jump into development mode. Foremen is not only used for development, it also has numerous features built in it for <a href="https://github.com/ddollar/foreman/wiki/Exporting-for-production">production</a> uses as well. Including but not limited to the <code class="highlighter-rouge">foreman export</code> commands which creates application initialization for upstart and linux (using /etc/init) upon starting or rebooting of your computer.</p> <h3 id="references">References</h3> <ul> <li><a href="http://blog.crowdint.com/2012/03/01/rails-tdd-environment-setup-with-guard-and-foreman.html">Rails TDD environment setup with Guard and Foreman</a></li> <li><a href="http://www.ralphonrails.com/rails/2014/02/04/new-rails-4-project.html">Rails 4 with Unicorn &amp; Foreman</a></li> <li><a href="http://blog.daviddollar.org/2011/05/06/introducing-foreman.html">Introducing Foreman</a></li> <li><a href="https://github.com/ddollar/foreman/wiki">Foreman Wiki</a></li> </ul> </main> <footer class="space-y-3 text-sm text-center"> <p> Contact me at <a href="mailto:tarellel@gmail.com">tarellel@gmail.com</a> <p/> <p> &copy; 2004 - 2023 Brandon Hicks - All rights reserved.<br> Content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons 4.0 License</a>.<br> Code samples and snippets are licensed under the <a href="https://github.com/tarellel/theworkaround.com/blob/main/LICENSE">MIT License</a> </p> </footer> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41384218-1"></script> <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-41384218-1');
    </script> </body> </html>