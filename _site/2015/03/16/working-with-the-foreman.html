<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Working with the Foreman - TheWorkAround</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/app-cbb48d0919386840179c71826d204602.css">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if IE 7]>
      <script src="/assets/css/font-awesome-ie7.css"></script>
    <![endif]-->

    <link href="/atom.xml" rel="alternate" title="Atom" type="application/atom+xml">
    <link href="/rss.xml" rel="alternate" title="RSS" type="application/rss+xml">
    <link href="/sitemap.xml" rel="sitemap" title="Sitemap" type="application/xml">
    <link href="/humans.txt" rel="author" type="text/plain">

    <!-- Prefectch to Optimize Site Loading - src: http://csswizardry.com/ -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="dns-prefetch" href="//ajax.googleapis.com">

    <meta name='title' content='Working with the Foreman - TheWorkAround'>
    <meta name='og:title' content='Working with the Foreman - TheWorkAround'>
    <meta property='og:url' content='http://theworkaround.com/2015/03/16/working-with-the-foreman.html'>

    <meta content="article" property="og:type">
    <meta name="author" content="Brandon Hicks">
    <meta name="keywords" content="ruby, rails">


<meta name="description" content="Using Ruby's forman gem to make managing applications easier">



  <meta name="keywords" content="ruby,rails">

</head>
<body>
  <div class="container">
    <div class="site">
      <div class="row">
        <div class="span2 text-right">
          <div class="social-icons">
          <p>
            <a href="/" title="Return to Homepage">/</a>
            <a href="http://twitter.com/tarellel" title="Follow me on Twitter" rel="me">
              <i class="fa fa-twitter"></i>
            </a>
            <a href="http://github.com/tarellel" title="View my code on GitHub" rel="me">
              <i class="fa fa-github"></i>
            </a>
            <a href="mailto:&#116;&#097;&#114;&#101;&#108;&#108;&#101;&#108;&#064;&#103;&#109;&#097;&#105;&#108;&#046;&#099;&#111;&#109;" title="Email Me" class="email">
              <i class="fa fa-envelope"></i>
            </a>
          </p>
          </div>
          <div class="text-right navlinks">
            <a href="/about">About</a><br/>
            <a href="/archive">Archive</a>
          </div>
        </div>
        <div class="span9 content">
          <h2 class="post-title">Working with the Foreman</h2>
<div class="row">
  <div class="span2">
    <p class="meta">Mar 16, 2015</p>
  </div>
  <div class="span7 text-right">
    
      Tags: <a href="/tag/ruby.html" rel="tag">ruby</a>, <a href="/tag/rails.html" rel="tag">rails</a>
    
  </div>
</div>
<div class="post">
<p>Lets to work on using <a href="https://github.com/ddollar/foreman">Foreman</a> and when I say Foreman I’m not referring to Eric Forman the goof for a son on <a href="http://www.imdb.com/title/tt0165598/?ref_=nv_sr_1">The 70’s Show</a>. I’m talking about the Ruby gem Foreman for making your applications easier to manage and deploy.</p>

<p><img src="https://i.imgur.com/vlQFjab.jpg" alt="Eric Forman" /></p>

<p>For those unfamiliar with Foreman it is a way to initialize your application and its components without making a mess. Before I started using this wonderful gem, whenever I would want to test and/or run an application I would have numerous tabs open and start numerous tasks in order to even get started (Rails Server, Sidekiq, etc.). But with foreman this can all be done with a single command.</p>

<p><img src="/img/before_foreman_tabs.png" alt="Before Foreman" /></p>

<p>With Foreman all you need to do is install the gem, create a <code class="highlighter-rouge">Procfile</code> and put your desired tasks in it. A Profile will contain the designated tasks which you wish to have initiated when you begin the application. An example of starting the rails server with foreman could look something similar to the following</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="ss">web: </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">rails</span> <span class="n">server</span>
</code></pre>
</div>

<p>Or if you wish to call you server application specifically you can use something similar to the example below.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="ss">web: </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">thin</span> <span class="n">start</span>
</code></pre>
</div>

<p>I know what you’re thinking, “But wait this doesn’t change anything, this is just another file to put into my Rails applications directory.” But let me explain a little bit, every new line that you add to the Profile can have a task followed by it’s specific command that you would normally use in the command line. For example say you run Resque, Solr, Guard, or a number of other tasks when you run your server, add these tasks and they will start with the server when you run the foreman command.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="ss">web:    </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">thin</span> <span class="n">start</span>
<span class="ss">solr:   </span><span class="n">rake</span> <span class="n">sunspot</span><span class="ss">:solr:run</span>
<span class="ss">worker: </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">rake</span> <span class="n">resque</span><span class="ss">:work</span> <span class="no">QUEUE</span><span class="o">=*</span>
<span class="ss">guard:  </span><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">guard</span>
</code></pre>
</div>

<p>So now instead of having 4 or 5 different tabs open for your terminal all you need to type in the command line is <code class="highlighter-rouge">foreman start</code> and you are ready to go. Below is an example of something similar that you will be output when setup and ran properly.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">master!$ </span>foreman start
18:14:06 web.1     | started with pid 1247
18:14:06 sidekiq.1 | started with pid 1248
18:14:12 web.1     | <span class="o">=</span>&gt; Booting Thin
18:14:12 web.1     | <span class="o">=</span>&gt; Rails 4.2.0 application starting <span class="k">in </span>development on http://localhost:3000
18:14:12 web.1     | <span class="o">=</span>&gt; Run <span class="sb">`</span>rails server -h<span class="sb">`</span> <span class="k">for </span>more startup options
18:14:12 web.1     | <span class="o">=</span>&gt; Ctrl-C to shutdown server
18:14:12 web.1     | Thin web server <span class="o">(</span>v1.6.3 codename Protein Powder<span class="o">)</span>
18:14:12 web.1     | Maximum connections <span class="nb">set </span>to 1024
18:14:12 web.1     | Listening on localhost:3000, CTRL+C to stop
</code></pre>
</div>

<h3 id="conclusion">Conclusion</h3>
<p>Using Foreman has been a wonderful resource for developing applications and initiating everything I need in order to jump into development mode. Foremen is not only used for development, it also has numerous features built in it for <a href="https://github.com/ddollar/foreman/wiki/Exporting-for-production">production</a> uses as well. Including but not limited to the <code class="highlighter-rouge">foreman export</code> commands which creates application initialization for upstart and linux (using /etc/init) upon starting or rebooting of your computer.</p>

<h3 id="references">References</h3>
<ul>
  <li><a href="http://blog.crowdint.com/2012/03/01/rails-tdd-environment-setup-with-guard-and-foreman.html">Rails TDD environment setup with Guard and Foreman</a></li>
  <li><a href="http://www.ralphonrails.com/rails/2014/02/04/new-rails-4-project.html">Rails 4 with Unicorn &amp; Foreman</a></li>
  <li><a href="http://blog.daviddollar.org/2011/05/06/introducing-foreman.html">Introducing Foreman</a></li>
  <li><a href="https://github.com/ddollar/foreman/wiki">Foreman Wiki</a></li>
</ul>

</div>

        </div>
      </div>
    </div>
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41384218-1', 'theworkaround.com');
  ga('send', 'pageview');
</script>
</body>
</html>
